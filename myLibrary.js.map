{"version":3,"file":"myLibrary.js","sources":["../src/js/myLibrary.js"],"sourcesContent":["// library.js\n\nconst genresList = [\n  { id: 28, name: \"Aksiyon\" },\n  { id: 12, name: \"Macera\" },\n  { id: 16, name: \"Animasyon\" },\n  { id: 35, name: \"Komedi\" },\n  { id: 80, name: \"Suç\" },\n  { id: 99, name: \"Belgesel\" },\n  { id: 18, name: \"Dram\" },\n  { id: 10751, name: \"Aile\" },\n  { id: 14, name: \"Fantastik\" },\n  { id: 36, name: \"Tarih\" },\n  { id: 27, name: \"Korku\" },\n  { id: 10402, name: \"Müzik\" },\n  { id: 9648, name: \"Gizem\" },\n  { id: 10749, name: \"Romantik\" },\n  { id: 878, name: \"Bilim Kurgu\" },\n  { id: 10770, name: \"Televizyon\" },\n  { id: 53, name: \"Gerilim\" },\n  { id: 10752, name: \"Savaş\" },\n  { id: 37, name: \"Western\" },\n  { id: 38, name: \"Absürd\" },\n];\n\nwindow.onload = function () {\n  populateGenreDropdown();\n  loadLibraryMovies();\n\n  const genreSelect = document.querySelector(\".genreSelect\");\n  genreSelect?.addEventListener(\"change\", (e) => {\n    loadLibraryMovies(e.target.value);\n  });\n};\n\nfunction loadLibraryMovies(genreId = \"\") {\n  const catalog = document.querySelector(\".library-catalog\");\n  catalog.innerHTML = \"\";\n  let movieLibrary = JSON.parse(localStorage.getItem(\"movieLibrary\")) || [];\n\n  const filtered = genreId\n    ? movieLibrary.filter((m) => m.genre_ids.includes(parseInt(genreId)))\n    : movieLibrary;\n\n  if (filtered.length === 0) {\n    catalog.innerHTML = `<div class=\"no-results-message\"><p>OOPS...</p><p>Your library is empty..</p></div>`;\n    return;\n  }\n\n  filtered.forEach((movie) => {\n    const card = document.createElement(\"div\");\n    card.className = \"movie-card-library\";\n    card.dataset.movieId = movie.id;\n\n    card.innerHTML = `\n      <div class=\"image-container\">\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"${\n      movie.title\n    }\">\n      </div>\n      <div class=\"movie-details-library\">\n        <div class=\"movie-name-library\">\n          <h3>${movie.title}</h3>\n          <p>${getGenres(movie.genre_ids).join(\", \")}</p>\n        </div>\n        <div class=\"stars\">${getStars(movie.vote_average)}</div>\n      </div>\n      <div class=\"delete-btn\">\n        <i class=\"fas fa-trash-alt\" title=\"Sil\"></i>\n      </div>\n    `;\n\n    card.querySelector(\".delete-btn\").addEventListener(\"click\", () => {\n      movieLibrary = movieLibrary.filter((m) => m.id !== movie.id);\n      localStorage.setItem(\"movieLibrary\", JSON.stringify(movieLibrary));\n      loadLibraryMovies(genreId);\n    });\n\n    catalog.appendChild(card);\n  });\n}\n\nfunction getStars(voteAverage) {\n  let stars = \"\";\n  let fullStars = Math.floor(voteAverage / 2);\n  for (let i = 0; i < 5; i++) {\n    stars +=\n      i < fullStars\n        ? `<span class=\"fa fa-star checked\"></span>`\n        : `<span class=\"fa fa-star\"></span>`;\n  }\n  return stars;\n}\n\nfunction getGenres(genreIds) {\n  return genreIds.map((id) => {\n    const genre = genresList.find((g) => g.id === id);\n    return genre ? genre.name : \"Bilinmiyor\";\n  });\n}\n\nfunction populateGenreDropdown() {\n  const select = document.querySelector(\".genreSelect\");\n  select.innerHTML = `<option value=\"\">All Genres</option>`;\n  genresList.forEach((genre) => {\n    const option = document.createElement(\"option\");\n    option.value = genre.id;\n    option.textContent = genre.name;\n    select.appendChild(option);\n  });\n}\n"],"names":["genresList","populateGenreDropdown","loadLibraryMovies","genreSelect","e","genreId","catalog","movieLibrary","filtered","m","movie","card","getGenres","getStars","voteAverage","stars","fullStars","i","genreIds","id","genre","g","select","option"],"mappings":"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"}